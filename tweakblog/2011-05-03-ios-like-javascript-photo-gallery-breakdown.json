{
    "title": "iOS like Javascript photo gallery breakdown",
    "language": "nl",
    "link": "http://glamour.tweakblogs.net/blog/6492/ios-like-javascript-photo-gallery-breakdown.html",
    "date": "2011-05-03T12:23:00.000Z",
    "category": "Frontend",
    "views": 3763,
    "articleHtml": "Vandaag een breakdown van de swipe-events in de <a href=\"http://m.funda.nl/koop/aerdenhout/huis-47083326-aerdenhoutsduinweg-20/fotos/\" rel=\"external\">photo gallery</a> die we op onze mobiele website gebruiken. Verwacht niet een line-to-line breakdown, maar alleen de wijzigingen die hebben moeten doen om van onze more-or-less statische versie een versie te maken die swipe events ondersteunt.<br>\r\n<br>\r\n<b>Let&apos;s get it started</b><br>\r\nOmdat we gebruik willen maken van de &apos;touchmove&apos; events gebruiken we een zelfgeschreven jQuery plugin die de interface iets handiger maakt: <a href=\"http://pastebin.com/4B1dWk5c\" rel=\"external\">jquery.(s)wipe.js</a>. De syntax voor deze plugin is:<br>\r\n<br>JavaScript:<br><table class=\"phphighlight\"><tr><td class=\"phphighlightline\"><code>1<br>2<br>3<br>4<br>5<br></code></td><td class=\"phphighlightcode\"><div><code><span class=\"code_method\">$</span>(<span class=\"code_string\">&apos;#een-element&apos;</span>).<span class=\"code_method\">wipe</span>({\n<br>&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_ident\">wipeStart</span>:&#xA0;<span class=\"code_string\">/*&#xA0;*/</span>,\n<br>&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_ident\">wipe</span>:&#xA0;<span class=\"code_string\">/*&#xA0;*/</span>,\n<br>&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_ident\">wipeEnd</span>:&#xA0;<span class=\"code_string\">/*&#xA0;*/</span>\n<br>});</code></div></td></tr></table><br>\r\nWe kunnen aan deze events functies koppelen waardoor we alle logica voor het swipen op &#xE9;&#xE9;n plaats hebben.<br><a name=\"more\"></a><br>\r\n<b>Verschillende manieren voor animaties</b><br>\r\nOm de animaties te maken hebben we een aantal manieren geprobeerd:<ul><li>1. Voeg twee extra afbeeldingen toe aan de DOM, 1 links van je huidige afbeelding, 1 rechts van je huidige afbeelding. Zet hier een container omheen, en positioneer deze absoluut met de CSS property &apos;left&apos;. Nadat de animatie klaar is verwissel je de afbeeldingen.</li><li>2. Teken de afbeeldingen die zichtbaar zijn (bij naar rechts slepen de vorige en de huidige) op een canvas.</li><li>3. Doe 1. maar dan i.p.v. met &apos;left&apos; met &apos;-webkit-transform&apos;</li></ul>Al deze manieren hadden hun quircks. 1. performt redelijk in portrait mode op iPhone en Android; maar slecht in landscape, en dramatisch op Blackberry OS 6. 2 Performt dramatisch op iOs vanwege de slechte kwaliteit van hun Canvas implementatie. 3 werkt goed op iPhone, Android en BB OS 6; maar niet als je op de iPhone in landscape mode draait, want dan komen er flikkeringen. Ook waren er in eerste instantie flikkeringen tijdens de animatie in iOS 4.2 en hoger (en niet in 4.1) wanneer je de CSS prop &apos;-webkit-backface-visibility&apos; niet zette naar &apos;hidden&apos;. Zucht. Uiteindelijk hebben we op de laatste dag alles toch nog smooth gekregen door de volgende methode te gebruiken:<br>\r\n<br>\r\nTeken voor elke afbeelding voor een object een &lt;img/&gt; tag, en zet deze in een container. Positioneer de container met &apos;-webkit-transform&apos;. De afbeeldingen worden uiteraard niet allemaal ingeladen; dat doen we pas als we verwachten dat we de afbeelding nodig gaan hebben.<br>\r\n<i>N.B. We doen nu alleen webkit omdat iOS, Android en BB OS 6 allen een webkit browser hebben. Wanneer we ook Phone 7 gaan ondersteunen voegen we ook normale CSS3 transforms toe.</i><br>\r\n<br>\r\n<b>Breakdown</b><br>\r\nDe volledige javascript voor de gallery is <a href=\"http://pastebin.com/DR9FaMzN\" rel=\"external\">hier te vinden</a>. Het toevoegen van alle &lt;img/&gt;&apos;s vind je op regel 341. Op regel 26 doen we de eerste test, namelijk het controleren of we webkit transforms supporten:<br>\r\n<br>JavaScript:<br><table class=\"phphighlight\"><tr><td class=\"phphighlightline\"><code>1<br>2<br>3<br>4<br>5<br>6<br>7<br></code></td><td class=\"phphighlightcode\"><div><code>&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_keyword\">var</span>&#xA0;<span class=\"code_ident\">isWebkitTransform</span>&#xA0;=&#xA0;(<span class=\"code_keyword\">function</span>&#xA0;()&#xA0;{&#xA0;\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_keyword\">var</span>&#xA0;<span class=\"code_ident\">div</span>&#xA0;=&#xA0;<span class=\"code_special\">document</span>.<span class=\"code_method\">createElement</span>(<span class=\"code_string\">&apos;div&apos;</span>);\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_ident\">div</span>.<span class=\"code_ident\">innerHTML</span>&#xA0;=&#xA0;<span class=\"code_string\">&apos;&lt;div&#xA0;style=&quot;-webkit-transition:color&#xA0;1s&#xA0;linear;&quot;&gt;&lt;/div&gt;&apos;</span>;\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_keyword\">var</span>&#xA0;<span class=\"code_ident\">cssTransitionsSupported</span>&#xA0;=&#xA0;(<span class=\"code_ident\">div</span>.<span class=\"code_ident\">firstChild</span>.<span class=\"code_ident\">style</span>.<span class=\"code_ident\">webkitTransition</span>&#xA0;!==&#xA0;<span class=\"code_keyword\">undefined</span>);\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_keyword\">delete</span>&#xA0;<span class=\"code_ident\">div</span>;\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_keyword\">return</span>&#xA0;<span class=\"code_ident\">cssTransitionsSupported</span>;\n<br>&#xA0;&#xA0;&#xA0;&#xA0;})();</code></div></td></tr></table><br>\r\n<br>\r\nOp regel 311 gaan we hier uiteindelijk iets mee doen, in de &apos;herpositioneer&apos; functie:<br>\r\n<br>JavaScript:<br><table class=\"phphighlight\"><tr><td class=\"phphighlightline\"><code>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31<br>32<br>33<br>34<br></code></td><td class=\"phphighlightcode\"><div><code>&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_comment\">//&#xA0;x&#xA0;=&#xA0;nieuwe&#xA0;positie</span>\n<br>&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_comment\">//&#xA0;duration&#xA0;=&#xA0;tijd&#xA0;in&#xA0;ms;&#xA0;als&#xA0;0&#xA0;dan&#xA0;positioneren&#xA0;we&#xA0;direct&#xA0;zonder&#xA0;animatie.&#xA0;Handig&#xA0;tijdens&#xA0;swipen&#xA0;met&#xA0;je&#xA0;vinger.</span>\n<br>&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_comment\">//&#xA0;finishedCallback&#xA0;=&#xA0;functie&#xA0;die&#xA0;aangeroepen&#xA0;moeten&#xA0;worden&#xA0;als&#xA0;de&#xA0;anim&#xA0;klaar&#xA0;is</span>\n<br>&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_keyword\">var</span>&#xA0;<span class=\"code_ident\">repositionContainer</span>&#xA0;=&#xA0;<span class=\"code_keyword\">function</span>&#xA0;(<span class=\"code_ident\">x</span>,&#xA0;<span class=\"code_ident\">duration</span>,&#xA0;<span class=\"code_ident\">finishedCallback</span>)&#xA0;{\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_ident\">x</span>&#xA0;=&#xA0;(<span class=\"code_ident\">x</span>&#xA0;|&#xA0;<span class=\"code_number\">0</span>);&#xA0;<span class=\"code_comment\">//&#xA0;rond&#xA0;af&#xA0;op&#xA0;hele&#xA0;pixels;&#xA0;is&#xA0;goed&#xA0;voor&#xA0;de&#xA0;performance</span>\n<br>&#xA0;\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_comment\">//&#xA0;snelle&#xA0;hack&#xA0;om&#xA0;te&#xA0;zorgen&#xA0;dat&#xA0;we&#xA0;hier&#xA0;geen&#xA0;check&#xA0;voor&#xA0;hoeven&#xA0;te&#xA0;doen</span>\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_ident\">finishedCallback</span>&#xA0;=&#xA0;<span class=\"code_ident\">finishedCallback</span>&#xA0;||&#xA0;<span class=\"code_keyword\">function</span>&#xA0;()&#xA0;{&#xA0;};\n<br>&#xA0;\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_comment\">//&#xA0;als&#xA0;we&#xA0;geen&#xA0;webkitTransform&#xA0;hebben&#xA0;kunnen&#xA0;we&#xA0;gebruiken&#xA0;maken&#xA0;van&#xA0;jQuery&#xA0;animate</span>\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_keyword\">if</span>&#xA0;(!<span class=\"code_ident\">isWebkitTransform</span>)&#xA0;{\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_keyword\">if</span>&#xA0;(!<span class=\"code_ident\">duration</span>)&#xA0;{\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_ident\">scroller</span>.<span class=\"code_ident\">self</span>.<span class=\"code_method\">css</span>({&#xA0;<span class=\"code_ident\">left</span>:&#xA0;-<span class=\"code_ident\">x</span>&#xA0;});\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_method\">finishedCallback</span>();\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;}&#xA0;<span class=\"code_keyword\">else</span>&#xA0;{\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_ident\">scroller</span>.<span class=\"code_ident\">self</span>.<span class=\"code_method\">animate</span>({&#xA0;<span class=\"code_ident\">left</span>:&#xA0;-<span class=\"code_ident\">x</span>&#xA0;},&#xA0;<span class=\"code_ident\">duration</span>,&#xA0;<span class=\"code_ident\">finishedCallback</span>);\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;}\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;}&#xA0;<span class=\"code_keyword\">else</span>&#xA0;{\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_comment\">//&#xA0;met&#xA0;webkit&#xA0;transform&#xA0;moeten&#xA0;we&#xA0;aanhaken&#xA0;aan&#xA0;het&#xA0;webkitTransitionEnd&#xA0;event</span>\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_keyword\">var</span>&#xA0;<span class=\"code_ident\">cb</span>&#xA0;=&#xA0;<span class=\"code_keyword\">function</span>&#xA0;()&#xA0;{\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_method\">finishedCallback</span>();\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_ident\">scroller</span>.<span class=\"code_ident\">self</span>.<span class=\"code_method\">unbind</span>(<span class=\"code_string\">&apos;webkitTransitionEnd&apos;</span>);\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;}\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_ident\">scroller</span>.<span class=\"code_ident\">self</span>.<span class=\"code_method\">bind</span>(<span class=\"code_string\">&apos;webkitTransitionEnd&apos;</span>,&#xA0;<span class=\"code_ident\">cb</span>);\n<br>&#xA0;\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_comment\">//&#xA0;al&#xA0;deze&#xA0;properties&#xA0;moeten&#xA0;gezet&#xA0;worden&#xA0;voor&#xA0;een&#xA0;smooth&#xA0;anim&#xA0;op&#xA0;alle&#xA0;devices</span>\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_ident\">scroller</span>.<span class=\"code_ident\">self</span>.<span class=\"code_method\">css</span>({\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_string\">&apos;-webkit-transform&apos;</span>:&#xA0;<span class=\"code_string\">&apos;translate(&apos;</span>&#xA0;+&#xA0;-<span class=\"code_ident\">x</span>&#xA0;+&#xA0;<span class=\"code_string\">&apos;px,0px)&apos;</span>,\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_string\">&apos;-webkit-transition-duration&apos;</span>:&#xA0;(<span class=\"code_ident\">duration</span>&#xA0;||&#xA0;<span class=\"code_number\">0</span>)&#xA0;+&#xA0;<span class=\"code_string\">&apos;ms&apos;</span>,\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_string\">&apos;-webkit-backface-visibility&apos;</span>:&#xA0;<span class=\"code_string\">&apos;hidden&apos;</span>,\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_string\">&apos;-webkit-transition-property&apos;</span>:&#xA0;<span class=\"code_string\">&apos;-webkit-transform&apos;</span>\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;});\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;}\n<br>&#xA0;&#xA0;&#xA0;&#xA0;};</code></div></td></tr></table><br>\r\n<br>\r\nWe haken nu in op de swipe plugin om de container te verplaatsen als iemand met zijn vinger over het scherm gaat (regel 226).<br>\r\n<br>JavaScript:<br><table class=\"phphighlight\"><tr><td class=\"phphighlightline\"><code>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31<br>32<br>33<br>34<br>35<br>36<br>37<br>38<br>39<br>40<br>41<br>42<br>43<br>44<br>45<br>46<br>47<br>48<br>49<br>50<br>51<br>52<br>53<br>54<br>55<br>56<br>57<br>58<br>59<br>60<br></code></td><td class=\"phphighlightcode\"><div><code>&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_comment\">//&#xA0;Swipe&#xA0;events</span>\n<br>&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_method\">$</span>(<span class=\"code_special\">document</span>).<span class=\"code_method\">ready</span>(<span class=\"code_keyword\">function</span>&#xA0;()&#xA0;{\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_comment\">//&#xA0;dit&#xA0;is&#xA0;de&#xA0;scroller&#xA0;container</span>\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_keyword\">var</span>&#xA0;<span class=\"code_ident\">$this</span>&#xA0;=&#xA0;<span class=\"code_ident\">scroller</span>.<span class=\"code_ident\">self</span>;\n<br>&#xA0;\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_comment\">//&#xA0;we&#xA0;applyen&#xA0;het&#xA0;swipe&#xA0;event&#xA0;op&#xA0;onze&#xA0;media&#xA0;container</span>\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_method\">$</span>(<span class=\"code_ident\">media</span>.<span class=\"code_ident\">self</span>).<span class=\"code_method\">wipe</span>({\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_ident\">events</span>:&#xA0;{\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_ident\">wipeStart</span>:&#xA0;<span class=\"code_keyword\">function</span>&#xA0;()&#xA0;{\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_keyword\">if</span>&#xA0;(<span class=\"code_ident\">inTouchMove</span>)&#xA0;{\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_comment\">//&#xA0;zijn&#xA0;we&#xA0;nog&#xA0;in&#xA0;de&#xA0;touch&#xA0;move?&#xA0;dan&#xA0;stop&#xA0;anim</span>\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_keyword\">if</span>&#xA0;(<span class=\"code_ident\">isWebkitTransform</span>)&#xA0;{\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_comment\">//&#xA0;in&#xA0;webkit&#xA0;doe&#xA0;je&#xA0;dit&#xA0;door&#xA0;de&#xA0;duration&#xA0;naar&#xA0;0ms&#xA0;te&#xA0;zetten</span>\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_comment\">//&#xA0;dan&#xA0;eindigt&#xA0;de&#xA0;animatie&#xA0;direct&#xA0;op&#xA0;de&#xA0;juiste&#xA0;locatie</span>\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_ident\">$this</span>.<span class=\"code_method\">css</span>({\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_string\">&apos;-webkit-transition-duration&apos;</span>:&#xA0;<span class=\"code_string\">&apos;0ms&apos;</span>\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;});\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;}&#xA0;<span class=\"code_keyword\">else</span>&#xA0;{\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_comment\">//&#xA0;in&#xA0;jQuery&#xA0;hebben&#xA0;we&#xA0;&apos;stop&apos;</span>\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_ident\">$this</span>.<span class=\"code_method\">stop</span>(<span class=\"code_keyword\">true</span>,&#xA0;<span class=\"code_keyword\">true</span>);\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;}\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;}\n<br>&#xA0;\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_comment\">//&#xA0;setImages()&#xA0;handelt&#xA0;het&#xA0;positioneren&#xA0;en&#xA0;het&#xA0;preloaden&#xA0;van&#xA0;afbeeldingen</span>\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_method\">setImages</span>();\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;},\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_comment\">//&#xA0;deze&#xA0;methode&#xA0;gaat&#xA0;af&#xA0;op&#xA0;het&#xA0;&apos;onTouchMove&apos;&#xA0;event</span>\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_ident\">wipe</span>:&#xA0;<span class=\"code_keyword\">function</span>&#xA0;(<span class=\"code_ident\">dx</span>,&#xA0;<span class=\"code_ident\">dy</span>)&#xA0;{\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_comment\">//&#xA0;current&#xA0;=&#xA0;huidige&#xA0;index;&#xA0;dit&#xA0;is&#xA0;dus&#xA0;onze&#xA0;originele&#xA0;positie</span>\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_keyword\">var</span>&#xA0;<span class=\"code_ident\">baseLine</span>&#xA0;=&#xA0;<span class=\"code_ident\">current</span>&#xA0;*&#xA0;<span class=\"code_ident\">itemWidth</span>;\n<br>&#xA0;\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_comment\">//&#xA0;wanneer&#xA0;je&#xA0;aan&#xA0;het&#xA0;begin&#xA0;/&#xA0;einde&#xA0;van&#xA0;de&#xA0;stream&#xA0;bent&#xA0;mag&#xA0;je&#xA0;niet&#xA0;helemaal&#xA0;door&#xA0;swipen</span>\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_keyword\">if</span>&#xA0;((<span class=\"code_ident\">current</span>&#xA0;===&#xA0;<span class=\"code_number\">0</span>&#xA0;&amp;&amp;&#xA0;<span class=\"code_ident\">dx</span>&#xA0;&gt;&#xA0;<span class=\"code_number\">0</span>)&#xA0;||&#xA0;(<span class=\"code_ident\">current</span>&#xA0;===&#xA0;<span class=\"code_ident\">data</span>.<span class=\"code_ident\">length</span>&#xA0;-&#xA0;<span class=\"code_number\">1</span>&#xA0;&amp;&amp;&#xA0;<span class=\"code_ident\">dx</span>&#xA0;&lt;&#xA0;<span class=\"code_number\">0</span>))&#xA0;{\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_ident\">dx</span>&#xA0;=&#xA0;<span class=\"code_number\">0.4</span>&#xA0;*&#xA0;<span class=\"code_ident\">dx</span>;\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;}\n<br>&#xA0;\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_comment\">//&#xA0;herpositioneer&#xA0;de&#xA0;container&#xA0;op&#xA0;de&#xA0;originele&#xA0;positie&#xA0;-&#xA0;verplaatsing</span>\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_method\">repositionContainer</span>(<span class=\"code_ident\">baseLine</span>&#xA0;-&#xA0;<span class=\"code_ident\">dx</span>,&#xA0;<span class=\"code_number\">0</span>);\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;},\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_comment\">//&#xA0;einde&#xA0;van&#xA0;de&#xA0;swipe&#xA0;(gebruiker&#xA0;laat&#xA0;los)</span>\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_ident\">wipeEnd</span>:&#xA0;<span class=\"code_keyword\">function</span>&#xA0;(<span class=\"code_ident\">dx</span>,&#xA0;<span class=\"code_ident\">dy</span>)&#xA0;{\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_comment\">//&#xA0;we&#xA0;hanteren&#xA0;een&#xA0;threshold&#xA0;van&#xA0;20%&#xA0;van&#xA0;de&#xA0;afbeelding;&#xA0;anders&#xA0;blijven&#xA0;we&#xA0;op&#xA0;de&#xA0;huidige</span>\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_keyword\">if</span>&#xA0;(<span class=\"code_ident\">dx</span>&#xA0;&lt;&#xA0;<span class=\"code_number\">0</span>&#xA0;&amp;&amp;&#xA0;(<span class=\"code_ident\">Math</span>.<span class=\"code_method\">abs</span>(<span class=\"code_ident\">dx</span>)&#xA0;&gt;&#xA0;<span class=\"code_ident\">itemWidth</span>&#xA0;*&#xA0;<span class=\"code_number\">0.2</span>)&#xA0;&amp;&amp;&#xA0;<span class=\"code_ident\">data</span>[<span class=\"code_ident\">current</span>&#xA0;+&#xA0;<span class=\"code_number\">1</span>])&#xA0;{\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_comment\">//&#xA0;animeer&#xA0;naar&#xA0;volgende&#xA0;afbeelding</span>\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_method\">next</span>(<span class=\"code_keyword\">true</span>);\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;}&#xA0;<span class=\"code_keyword\">else</span>&#xA0;<span class=\"code_keyword\">if</span>&#xA0;(<span class=\"code_ident\">dx</span>&#xA0;&gt;&#xA0;<span class=\"code_number\">0</span>&#xA0;&amp;&amp;&#xA0;(<span class=\"code_ident\">Math</span>.<span class=\"code_method\">abs</span>(<span class=\"code_ident\">dx</span>)&#xA0;&gt;&#xA0;<span class=\"code_ident\">itemWidth</span>&#xA0;*&#xA0;<span class=\"code_number\">0.2</span>)&#xA0;&amp;&amp;&#xA0;<span class=\"code_ident\">data</span>[<span class=\"code_ident\">current</span>&#xA0;-&#xA0;<span class=\"code_number\">1</span>])&#xA0;{\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_comment\">//&#xA0;animeer&#xA0;naar&#xA0;vorige&#xA0;afbeelding</span>\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_method\">previous</span>(<span class=\"code_keyword\">true</span>);\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;}&#xA0;<span class=\"code_keyword\">else</span>&#xA0;{\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_comment\">//&#xA0;anders&#xA0;teruganimeren&#xA0;naar&#xA0;de&#xA0;originele&#xA0;positie</span>\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_keyword\">var</span>&#xA0;<span class=\"code_ident\">baseLine</span>&#xA0;=&#xA0;<span class=\"code_ident\">current</span>&#xA0;*&#xA0;<span class=\"code_ident\">itemWidth</span>;\n<br>&#xA0;\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_method\">repositionContainer</span>(<span class=\"code_ident\">baseLine</span>,&#xA0;<span class=\"code_ident\">options</span>.<span class=\"code_ident\">animationSpeed</span>);\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_method\">setTimeout</span>(<span class=\"code_keyword\">function</span>&#xA0;()&#xA0;{&#xA0;<span class=\"code_ident\">inTouchMove</span>&#xA0;=&#xA0;<span class=\"code_keyword\">false</span>;&#xA0;},&#xA0;<span class=\"code_ident\">options</span>.<span class=\"code_ident\">animationSpeed</span>);\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;}\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;}\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;},\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_ident\">minTimeBetweenSwipeEvents</span>:&#xA0;<span class=\"code_number\">0</span>\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;});\n<br>&#xA0;&#xA0;&#xA0;&#xA0;});</code></div></td></tr></table><br>\r\n<br>\r\nOmdat we ook via de thumbs onderin kunnen navigeren hebben we in onze refresh() functie een &apos;smooth&apos; parameter nodig die doorgegeven wordt door next() en previous() (zie vorige functie). Regel 113:<br>\r\n<br>JavaScript:<br><table class=\"phphighlight\"><tr><td class=\"phphighlightline\"><code>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br></code></td><td class=\"phphighlightcode\"><div><code>&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_keyword\">var</span>&#xA0;<span class=\"code_ident\">refresh</span>&#xA0;=&#xA0;<span class=\"code_keyword\">function</span>&#xA0;(<span class=\"code_ident\">smooth</span>,&#xA0;<span class=\"code_ident\">previousIdx</span>)&#xA0;{\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_comment\">//&#xA0;wanneer&#xA0;we&#xA0;via&#xA0;een&#xA0;anim&#xA0;willen,&#xA0;en&#xA0;we&#xA0;uberhaupt&#xA0;een&#xA0;andere&#xA0;afbeelding&#xA0;hebben</span>\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_keyword\">if</span>&#xA0;(<span class=\"code_ident\">smooth</span>&#xA0;&amp;&amp;&#xA0;<span class=\"code_ident\">previousIdx</span>&#xA0;!==&#xA0;<span class=\"code_ident\">current</span>)&#xA0;{\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_comment\">//&#xA0;verander&#xA0;de&#xA0;positie&#xA0;via&#xA0;een&#xA0;animatie</span>\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_method\">repositionContainer</span>(<span class=\"code_ident\">current</span>&#xA0;*&#xA0;<span class=\"code_ident\">itemWidth</span>,&#xA0;<span class=\"code_ident\">options</span>.<span class=\"code_ident\">animationSpeed</span>,&#xA0;<span class=\"code_keyword\">function</span>&#xA0;()&#xA0;{\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_ident\">inTouchMove</span>&#xA0;=&#xA0;<span class=\"code_keyword\">false</span>;\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_method\">setImages</span>();\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;});\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;}&#xA0;<span class=\"code_keyword\">else</span>&#xA0;{\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_comment\">//&#xA0;anders&#xA0;zet&#xA0;de&#xA0;positie&#xA0;direct&#xA0;zonder&#xA0;vertraging</span>\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_method\">setImages</span>(<span class=\"code_keyword\">true</span>);\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;}\n<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"code_method\">refreshUi</span>();\n<br>&#xA0;&#xA0;&#xA0;&#xA0;};</code></div></td></tr></table>",
    "nextLink": "http://glamour.tweakblogs.net/blog/6476/mobiele-website-live.html",
    "comments": [
        {
            "author": "EvilWhiteDragon",
            "date": "dinsdag 03 mei 2011 14:37",
            "contentHtml": "Sorry, maar browser specifieke css waar gewone css prima voorhanden is <img src=\"http://tweakimg.net/g/s/pukey.gif\" width=\"15\" height=\"15\" alt=\":r\"> <br>\r\nZijn we net een beetje af van het IE6 gedrocht, komt nu iedereen hip doen met Android/iOS -webkit- hacks.<br>\r\nAls je dan nog eerst de echte css zou gebruiken en als fall-back browserspecifiek gaat werken kan ik nog enigzins inkomen, maar zo, nee <img src=\"http://tweakimg.net/g/s/no.gif\" width=\"15\" height=\"15\" alt=\":N\"> dat vind ik helemaal niets.<br>\r\n<br>\r\nNog even het nodige positieve:<br>\r\nIk vind je blogs altijd wel interessant om te lezen, over hoe jullie zaken oplossen en waar je tegenaan loopt. Is altijd wel leerzaam. De rant is dan ook niet zozeer tegen jou gericht, maar meer tegen de nieuwe browserspecifieke code.<p class=\"edit\">[Reactie gewijzigd op dinsdag 03 mei 2011 14:38]</p>",
            "ownReply": false
        },
        {
            "author": "creator1988",
            "date": "dinsdag 03 mei 2011 14:51",
            "contentHtml": "<blockquote><div class=\"quote\"><a href=\"http://glamour.tweakblogs.net/blog/6492/ios-like-javascript-photo-gallery-breakdown.html#r_87516\">EvilWhiteDragon schreef op dinsdag 03 mei 2011 @ 14:37:</a><br>\r\nSorry, maar browser specifieke css waar gewone css prima voorhanden is <img src=\"http://tweakimg.net/g/s/pukey.gif\" width=\"15\" height=\"15\" alt=\":r\"> <br>\r\nZijn we net een beetje af van het IE6 gedrocht, komt nu iedereen hip doen met Android/iOS -webkit- hacks.<br>\r\nAls je dan nog eerst de echte css zou gebruiken en als fall-back browserspecifiek gaat werken kan ik nog enigzins inkomen, maar zo, nee <img src=\"http://tweakimg.net/g/s/no.gif\" width=\"15\" height=\"15\" alt=\":N\"> dat vind ik helemaal niets.<br>\r\n<br>\r\nNog even het nodige positieve:<br>\r\nIk vind je blogs altijd wel interessant om te lezen, over hoe jullie zaken oplossen en waar je tegenaan loopt. Is altijd wel leerzaam. De rant is dan ook niet zozeer tegen jou gericht, maar meer tegen de nieuwe browserspecifieke code.</div></blockquote>De reden dat iedereen met -webkit- hacks bezig moet is omdat het de manier is waarop Webkit en Firefox nieuwe functies implementeren waarvan de specs nog kunnen wijzigen. De reden dat we geen standaard CSS kunnen gebruiken is dan ook dat de spec nog kan (gaat?) veranderen. Alleen op deze manier zijn we gegarandeerd dat dit werkt op de manier waarop wij die hebben bedacht.<br>\r\n<br>\r\nWat dat betreft vind ik dit netter dan de &#xE9;chte IE 6 hacks, dit is tenminste nog goed gedocumenteerd.",
            "ownReply": true
        },
        {
            "author": "dragontje124",
            "date": "dinsdag 03 mei 2011 15:19",
            "contentHtml": "Hier de uitleg van de internet explorer devs over vendor prefixes <a href=\"http://blogs.msdn.com/b/ie/archive/2010/11/15/ie9-vendor-prefixes-and-developers.aspx\" rel=\"external\" title=\"http://blogs.msdn.com/b/ie/archive/2010/11/15/ie9-vendor-prefixes-and-developers.aspx\">http://blogs.msdn.com/b/i...fixes-and-developers.aspx</a><p class=\"edit\">[Reactie gewijzigd op dinsdag 03 mei 2011 15:20]</p>",
            "ownReply": false
        },
        {
            "author": "EvilWhiteDragon",
            "date": "dinsdag 03 mei 2011 15:20",
            "contentHtml": "Ok, dat verklaat in ieder geval waarom jullie het zo doen. Wat ik me dan wel afvraag is waarom men toch so graag met een standaard die nog geen standaard is wil werken, want ik ben er van overtuigd dat een hele hoop van deze hacks nooit geupdate zullen worden naar de juiste CSS/HTML methode wanneer HTML5 of CSS3 officieel klaar is.",
            "ownReply": false
        },
        {
            "author": "Apache",
            "date": "dinsdag 03 mei 2011 15:53",
            "contentHtml": "De standaarden lopen nu eenmaal gigantisch hard achter op de realiteit, dan is het oftewel wachten tot de standaard &quot;af&quot; is, waardoor er ook niets meer aan gewijzigd kan worden tot een volgende versie, of je begint in de realiteit al te &quot;experimenteren&quot; en gebruikt de resultaten van dat experiment om de standaard te verrijken.",
            "ownReply": false
        },
        {
            "author": "phex",
            "date": "dinsdag 03 mei 2011 16:28",
            "contentHtml": "Bij mij gaat ie &quot;flipmode&quot; in FF4 als ik heb ge-alt-tabbed. Alsin hij roteert door alle plaatjes in een paar miliseconden.<br>\r\n<br>\r\nOnder IOS werkt het overigens prima, maar op mijn Galaxy Tab + FF4 doet het niks.<br>\r\n<br>\r\n[edit: zal vast alleen onder iOS getest zijn omdat dat (onterecht) de doelgroep is?]<p class=\"edit\">[Reactie gewijzigd op dinsdag 03 mei 2011 16:30]</p>",
            "ownReply": false
        },
        {
            "author": "br men",
            "date": "dinsdag 03 mei 2011 16:46",
            "contentHtml": "Ik kreeg nadat ik een paar keer heen en weer aan het slepen was.. ineens dat nu elke keer dat ik naar de volgende foto ga, hij vanaf foto 1 naar foto x schuift.<br>\r\n<br>\r\nVerder wel interesant.. Ben zelf ook nog van plan een foto gallerij te maken dat beetje flashy is.",
            "ownReply": false
        },
        {
            "author": "creator1988",
            "date": "dinsdag 03 mei 2011 17:20",
            "contentHtml": "<blockquote><div class=\"quote\"><a href=\"http://glamour.tweakblogs.net/blog/6492/ios-like-javascript-photo-gallery-breakdown.html#r_87527\">phex schreef op dinsdag 03 mei 2011 @ 16:28:</a><br>\r\nBij mij gaat ie &quot;flipmode&quot; in FF4 als ik heb ge-alt-tabbed. Alsin hij roteert door alle plaatjes in een paar miliseconden.<br>\r\n<br>\r\nOnder IOS werkt het overigens prima, maar op mijn Galaxy Tab + FF4 doet het niks.<br>\r\n<br>\r\n[edit: zal vast alleen onder iOS getest zijn omdat dat (onterecht) de doelgroep is?]</div></blockquote>nee we weten dat er in Firefox rare behavior is, maar ik was me er helemaal niet van bewust dat FF4 ook voor Android beschikbaar is. We hebben het uiteraard ook op een Tab getest, maar alleen in de standaard browser. Targets voor de website zijn iPhone 3GS / 4, Android 2.2 en hoger, BB OS 5 en hoger. We kiezen er overigens wel voor om tablets zoals de Tab niet actief door te gaan sturen van funda.nl naar de mobiele versie.<blockquote><div class=\"quote\"><a href=\"http://glamour.tweakblogs.net/blog/6492/ios-like-javascript-photo-gallery-breakdown.html#r_87531\">br men schreef op dinsdag 03 mei 2011 @ 16:46:</a><br>\r\nIk kreeg nadat ik een paar keer heen en weer aan het slepen was.. ineens dat nu elke keer dat ik naar de volgende foto ga, hij vanaf foto 1 naar foto x schuift.<br>\r\n<br>\r\nVerder wel interesant.. Ben zelf ook nog van plan een foto gallerij te maken dat beetje flashy is.</div></blockquote>Is dit op een desktop of op een mobiele telefoon?",
            "ownReply": true
        },
        {
            "author": "phex",
            "date": "dinsdag 03 mei 2011 17:59",
            "contentHtml": "<blockquote><div class=\"quote\"><a href=\"http://glamour.tweakblogs.net/blog/6492/ios-like-javascript-photo-gallery-breakdown.html#r_87536\">creator1988 schreef op dinsdag 03 mei 2011 @ 17:20:</a><br>\r\nmaar ik was me er helemaal niet van bewust dat FF4 ook voor Android beschikbaar is.</div></blockquote>Ik zal er gelijk bij zeggen dat ik het vermoeden heb, dat naast het versienummer er weinig overeenkomt tussen de desktop en android versie. Het is overigens wel een fijne browser, dus ik kan mij voorstellen dat er redelijk wat gebruikers van zijn.<br>\r\n<br>\r\n<br>\r\nOverigens ik vind de werking van het script wel heel fijn onder iOS. Alleen hoe maak je de functionaliteit duidelijk onder gebruikers? Ik ben het namelijk nog niet eerder tegen gekomen, dus ik zou dan vrolijk op de plaatjes eronder klikken <img src=\"http://tweakimg.net/g/s/puh2.gif\" width=\"15\" height=\"15\" alt=\":P\"><p class=\"edit\">[Reactie gewijzigd op dinsdag 03 mei 2011 18:01]</p>",
            "ownReply": false
        },
        {
            "author": "Jeroen Mulder",
            "date": "dinsdag 03 mei 2011 18:01",
            "contentHtml": "Firefox Mobile was inderdaad geen onderdeel van ons testplatform. IE7 Mobile voor Windows Phone 7 overigens ook niet. Gezien ons mobile bezoek op de normale funda zagen we hier geen prioriteit in. Natuurlijk willen we het wel, maar voor de eerste versie hebben we gekozen om resources ergens anders in te stoppen :-)",
            "ownReply": false
        },
        {
            "author": "creator1988",
            "date": "dinsdag 03 mei 2011 18:09",
            "contentHtml": "<blockquote><div class=\"quote\"><a href=\"http://glamour.tweakblogs.net/blog/6492/ios-like-javascript-photo-gallery-breakdown.html#r_87538\">phex schreef op dinsdag 03 mei 2011 @ 17:59:</a><br>\r\nOverigens ik vind de werking van het script wel heel fijn onder iOS. Alleen hoe maak je de functionaliteit duidelijk onder gebruikers? Ik ben het namelijk nog niet eerder tegen gekomen, dus ik zou dan vrolijk op de plaatjes eronder klikken <img src=\"http://tweakimg.net/g/s/puh2.gif\" width=\"15\" height=\"15\" alt=\":P\"></div></blockquote>Het is wel more or less een natuurlijke interactie op iOS en Android; dus daar verwacht ik het een beetje op. Anders denk ik dat gebruikers het ontdekken als ze de interactie per ongeluk activeren. Je kan overigens ook aan de zijkanten van de afbeelding klikken voor volgende / vorige.",
            "ownReply": true
        },
        {
            "author": "WeeJeWel",
            "date": "dinsdag 03 mei 2011 18:36",
            "contentHtml": "Onvoorstelbaar dat er echt mensen wonen in dat huis.",
            "ownReply": false
        },
        {
            "author": "phex",
            "date": "woensdag 04 mei 2011 00:05",
            "contentHtml": "True maar het is geen app. Waarschijnlijk kijk ik er wel met de verkeerde bril naar <img src=\"http://tweakimg.net/g/s/biggrin.gif\" width=\"15\" height=\"15\" alt=\":D\">",
            "ownReply": false
        },
        {
            "author": "Deathraven",
            "date": "woensdag 11 mei 2011 16:07",
            "contentHtml": "In FireFox 4 zit er btw een bug in. Scroll in je voorbeeld pagina, maar eens van foto 18 naar 19 en verder.",
            "ownReply": false
        }
    ]
}